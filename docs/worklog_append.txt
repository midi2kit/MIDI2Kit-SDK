
---
2026-01-27 19:03
作業項目: CI11パーサー修正 & ドキュメント化
追加機能の説明:
  - CI11パーサーでheaderSize=0の場合を拒否するよう修正
  - これによりchunk 2/3がCI11 single-chunkと誤認される問題を解決
決定事項:
  【CI11パーサー修正結果】
  ✅ 修正成功: chunk 2/3 が正しくCI12フォーマットとして解析される
  
  【しかしBLE MIDIパケットロスは継続】
  - chunk 2/3 が約90%の確率で欠落または切断
  - 5回リトライしても成功しないケースが多い
  - chunk 1/3 と chunk 3/3 は正常に届く
  
  【修正内容】
  CIMessageParser.parsePEReplyCI11():
  - headerSize=0 の場合は nil を返す
  - これによりCI12マルチチャンクが誤ってCI11と解釈されるのを防止
  
  【根本原因】
  BLE MIDIの信頼性問題（chunk 2/3 の高頻度欠落）
  - パーサーの問題ではなく、物理層の問題
  - KORGデバイスのBLE MIDI実装の可能性も
次のTODO:
  - 包括的なドキュメント作成
  - 未解決問題の整理
  - git commit/push
---
